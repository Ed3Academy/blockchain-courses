# æµ‹è¯•å¹¶è¿è¡Œ

## ğŸ”¥ æ¨¡æ‹ŸåŒºå—é“¾ç¯å¢ƒè¿›è¡Œæµ‹è¯•

ä½ å·²ç»åšåˆ°äº†ã€‚ä½ å·²ç»å†™äº†ä¸€ä»½æ™ºèƒ½åˆçº¦ã€‚ä½ æ˜¯å† å†›ï¼

ç°åœ¨æˆ‘ä»¬éœ€è¦æ›´è¿›ä¸€æ­¥

1. ç¼–è¯‘å®ƒ
2. å°†å…¶éƒ¨ç½²åˆ°æˆ‘ä»¬çš„æœ¬åœ°åŒºå—é“¾
3. ä¸€æ—¦å®ƒå¼€å§‹éƒ¨ç½²ï¼Œconsole.log å°†è¿è¡Œ

æˆ‘ä»¬éœ€è¦è¿™æ ·åšï¼Œå› ä¸ºåœ¨ç°å®ä¸–ç•Œä¸­ï¼Œæ™ºèƒ½åˆçº¦å­˜åœ¨äºåŒºå—é“¾ä¸Šã€‚è€Œä¸”ï¼Œæˆ‘ä»¬å¸Œæœ›æˆ‘ä»¬çš„ç½‘ç«™å’Œæ™ºèƒ½åˆçº¦èƒ½å¤Ÿè¢«çœŸå®çš„äººä½¿ç”¨ï¼Œè¿™æ ·ä»–ä»¬å°±å¯ä»¥åœ¨æˆ‘ä»¬è¿™é‡Œé¢†å–ä»£å¸æˆ–è€…åšä»»ä½•ä½ æƒ³è®©ä»–ä»¬åšçš„äº‹æƒ…ï¼

æ‰€ä»¥ï¼Œå³ä½¿æˆ‘ä»¬åœ¨æœ¬åœ°å·¥ä½œï¼Œæˆ‘ä»¬ä¹Ÿæƒ³æ¨¡ä»¿é‚£ä¸ªç¯å¢ƒã€‚ä»æŠ€æœ¯ä¸Šè®²ï¼Œæˆ‘ä»¬å¯ä»¥ç¼–è¯‘å’Œè¿è¡Œ Solidity ä»£ç ï¼Œä½† Solidity çš„ç¥å¥‡ä¹‹å¤„åœ¨äºå®ƒå¦‚ä½•ä¸åŒºå—é“¾å’Œä»¥å¤ªåŠé’±åŒ…äº¤äº’ï¼ˆæˆ‘ä»¬å°†åœ¨ä¸‹ä¸€è¯¾ä¸­çœ‹åˆ°æ›´å¤šï¼‰ã€‚æ‰€ä»¥ï¼Œæœ€å¥½ç°åœ¨å°±è§£å†³è¿™ä¸ªé—®é¢˜ã€‚

æˆ‘ä»¬å°†ç¼–å†™ä¸€ä¸ªè‡ªå®šä¹‰è„šæœ¬æ¥ä¸ºæˆ‘ä»¬å¤„ç†è¿™ 3 ä¸ªæ­¥éª¤ã€‚

æˆ‘ä»¬å¼€å§‹åšå§ï¼

## ğŸ“ æ„å»ºä¸€ä¸ªæµ‹è¯•è„šæœ¬æ¥æµ‹è¯•æˆ‘ä»¬çš„åˆçº¦

è¿›å…¥ **`test`** ç›®å½•å¹¶åˆ›å»ºä¸€ä¸ªåä¸º **`MyToken.test.js`** çš„æ–‡ä»¶

å› æ­¤ï¼Œè¦æµ‹è¯•æ™ºèƒ½åˆçº¦ï¼Œæˆ‘ä»¬å¿…é¡»æ­£ç¡®åœ°åšå¾ˆå¤šäº‹æƒ…ã€‚æ¯”å¦‚ï¼šç¼–è¯‘ï¼Œéƒ¨ç½²ï¼Œç„¶åæ‰§è¡Œã€‚

æˆ‘ä»¬çš„è„šæœ¬å°†ä½¿æˆ‘ä»¬éå¸¸å®¹æ˜“åœ°å¿«é€Ÿè¿­ä»£æˆ‘ä»¬çš„åˆçº¦ :) ã€‚

æ‰€ä»¥ï¼Œè¿™å°±æ˜¯ **`MyToken.test.js`** å°†è¦æ‹¥æœ‰çš„:

```javascript
describe('MyToken', function () {
  it('deploy', async function () {
    const myTokenContractFactory = await hre.ethers.getContractFactory('MyToken')
    const myTokenContract = await myTokenContractFactory.deploy()
    await myTokenContract.deployed()
    console.log('Contract deployed to:', myTokenContract.address)
  })
})
```

å¤ªæ£’äº†.

## ğŸ¤” æ•ˆæœå¦‚ä½•ï¼Ÿ

åœ¨è¿™é‡Œä¸€è¡Œä¸€è¡Œçœ‹ã€‚

```javascript
const myTokenContractFactory = await hre.ethers.getContractFactory('MyToken')
```

è¿™é‡Œå°†è‡ªåŠ¨ç¼–è¯‘ MyToken åˆçº¦ï¼Œå°±çœå»äº†æˆ‘ä»¬æ‰‹åŠ¨ç¼–è¯‘çš„æ“ä½œï¼

```javascript
const myTokenContract = await myTokenContractFactory.deploy()
```

è¿™å¾ˆæœ‰è¶£ :) ã€‚

è¿™é‡Œå‘ç”Ÿçš„äº‹æƒ…æ˜¯ï¼ŒHardhat å°†ä¸ºæˆ‘ä»¬åˆ›å»ºä¸€ä¸ªæœ¬åœ°ä»¥å¤ªåŠç½‘ç»œï¼Œä½†åªæ˜¯ä¸ºäº†è¿™ä¸ªåˆçº¦ã€‚ç„¶åï¼Œåœ¨è„šæœ¬å®Œæˆåï¼Œå®ƒä¼šç ´åè¯¥æœ¬åœ°ç½‘ç»œã€‚å› æ­¤ï¼Œæ¯æ¬¡è¿è¡Œåˆçº¦æ—¶ï¼Œå®ƒéƒ½ä¼šæ˜¯ä¸€ä¸ªå…¨æ–°çš„åŒºå—é“¾ã€‚é‡ç‚¹æ˜¯ä»€ä¹ˆï¼Ÿè¿™æœ‰ç‚¹åƒæ¯æ¬¡éƒ½åˆ·æ–°æ‚¨çš„æœ¬åœ°æœåŠ¡å™¨ï¼Œæ‰€ä»¥æ‚¨æ€»æ˜¯ä»ä¸€ä¸ªå¹²å‡€çš„çŸ³æ¿å¼€å§‹ï¼Œè¿™æ ·å¯ä»¥è½»æ¾è°ƒè¯•é”™è¯¯ã€‚

```javascript
await myTokenContract.deployed()
```

æˆ‘ä»¬å°†ç­‰åˆ°æˆ‘ä»¬çš„åˆçº¦æ­£å¼éƒ¨ç½²åˆ°æˆ‘ä»¬çš„æœ¬åœ°åŒºå—é“¾ï¼æˆ‘ä»¬çš„ `constructor` åœ¨æˆ‘ä»¬å®é™…éƒ¨ç½²æ—¶è¿è¡Œã€‚

```javascript
console.log('Contract deployed to:', myTokenContract.address)
```

æœ€åï¼Œä¸€æ—¦å®ƒè¢«éƒ¨ç½²ï¼Œ`myTokenContract.address` åŸºæœ¬ä¸Šä¼šç»™æˆ‘ä»¬éƒ¨ç½²åˆçº¦çš„åœ°å€ã€‚è¿™ä¸ªåœ°å€æ˜¯æˆ‘ä»¬åœ¨åŒºå—é“¾ä¸Šå®é™…æ‰¾åˆ°æˆ‘ä»¬çš„åˆçº¦çš„æ–¹å¼ã€‚å®é™…åŒºå—é“¾ä¸Šæœ‰æ•°ç™¾ä¸‡ä¸ªåˆçº¦ã€‚æ‰€ä»¥ï¼Œè¿™ä¸ªåœ°å€è®©æˆ‘ä»¬å¯ä»¥è½»æ¾è®¿é—®æˆ‘ä»¬æœ‰å…´è¶£ä½¿ç”¨çš„åˆåŒï¼ä¸€æ—¦æˆ‘ä»¬éƒ¨ç½²åˆ°çœŸæ­£çš„ä»¥å¤ªåŠç½‘ç»œï¼Œè¿™å°†åœ¨ç¨åå˜å¾—æ›´åŠ é‡è¦ã€‚

è®©æˆ‘ä»¬è¿è¡Œå®ƒï¼

```bash
npx hardhat test test/MyToken.test.js
```

ä½ åº”è¯¥çœ‹åˆ°ä½ çš„ `console.log` åœ¨åˆçº¦ä¸­è¿è¡Œï¼Œç„¶åä½ è¿˜åº”è¯¥çœ‹åˆ°åˆçº¦åœ°å€æ‰“å°å‡ºæ¥ï¼ï¼ï¼è¿™æ˜¯æˆ‘å¾—åˆ°çš„ï¼š

![MyToken.sol log screenshot](https://raw.githubusercontent.com/Ed3Academy/blockchain-courses/main/Your_First_Token_DApp/images/test-log-screenshot.png)

## ğŸ© Hardhat & HRE

åœ¨è¿™äº›ä»£ç å—ä¸­ï¼Œæ‚¨ä¼šç»å¸¸æ³¨æ„åˆ°æˆ‘ä»¬ä½¿ç”¨äº† `hre.ethers`ï¼Œä½†ä»ä¸å¯¼å…¥ä»»ä½•åœ°æ–¹çš„ `hre`ï¼Ÿè¿™æ˜¯ä»€ä¹ˆç±»å‹çš„é­”æ³•ï¼Ÿ

ç›´æ¥ä» Hardhat æ–‡æ¡£æœ¬èº«ï¼Œæ‚¨ä¼šæ³¨æ„åˆ°è¿™ä¸€ç‚¹ï¼š

> Hardhat è¿è¡Œæ—¶ç¯å¢ƒï¼Œæˆ–ç®€ç§° HREï¼Œæ˜¯ä¸€ä¸ªåŒ…å« Hardhat åœ¨è¿è¡Œä»»åŠ¡ã€æµ‹è¯•æˆ–è„šæœ¬æ—¶å…¬å¼€çš„æ‰€æœ‰åŠŸèƒ½çš„å¯¹è±¡ã€‚å®é™…ä¸Šï¼ŒHardhat æ˜¯ HREã€‚

é‚£ä¹ˆè¿™æ˜¯ä»€ä¹ˆæ„æ€ï¼Ÿå¥½å§ï¼Œæ¯æ¬¡è¿è¡Œä»¥ `npx hardhat` å¼€å¤´çš„ç»ˆç«¯å‘½ä»¤æ—¶ï¼Œä½ éƒ½ä¼šä½¿ç”¨ä»£ç ä¸­æŒ‡å®šçš„ `hardhat.config.js` åŠ¨æ€æ„å»ºè¿™ä¸ª `hre` å¯¹è±¡ï¼è¿™æ„å‘³ç€æ‚¨å°†æ°¸è¿œä¸å¿…å®é™…å¯¹æ–‡ä»¶è¿›è¡ŒæŸç§å¯¼å…¥ï¼Œä¾‹å¦‚ï¼š

`const hre = require("hardhat")`

**TL;DR - ä½ ä¼šåœ¨æˆ‘ä»¬çš„ä»£ç ä¸­çœ‹åˆ°å¾ˆå¤š `hre`ï¼Œä½†ä»æœªåœ¨ä»»ä½•åœ°æ–¹å¯¼å…¥ï¼æŸ¥çœ‹è¿™ä¸ªå¾ˆé…·çš„ [Hardhat æ–‡æ¡£](https://hardhat.org/advanced/hardhat-runtime-environment.html) ä»¥äº†è§£æ›´å¤šä¿¡æ¯ï¼**
